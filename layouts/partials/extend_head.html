<!-- KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError : false
        });
    });
</script>

<!-- 引入拉绳灯主题切换样式 -->
{{ $themeToggleCSS := resources.Get "css/extended/theme-toggle.css" | resources.Fingerprint }}
<link rel="stylesheet" href="{{ $themeToggleCSS.RelPermalink }}">

<!-- Mermaid -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        theme: 'dark'
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        document.querySelectorAll('pre code.language-mermaid').forEach(function(element) {
            let pre = element.parentElement;
            pre.classList.add('mermaid');
            pre.innerHTML = element.innerHTML;
        });
    });
</script>

<!-- Dark mode support -->
<style>
:root {
    --gh-border-color: #30363d;
    --gh-bg: #0d1117;
    --gh-text: #c9d1d9;
    --gh-link: #58a6ff;
    
    /* 添加RGB颜色值变量，用于透明度调整 */
    --primary-rgb: 0, 102, 204; /* 默认蓝色 */
    --secondary-rgb: 113, 128, 150; /* 次要颜色 */
    --tertiary-rgb: 230, 230, 230; /* 第三颜色 */
    
    /* 添加过渡效果 */
    --theme-transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, opacity 0.3s ease;
}

[theme="dark"] {
    --gh-border-color: #30363d;
    --gh-bg: #0d1117;
    --gh-text: #c9d1d9;
    --gh-link: #58a6ff;
    
    /* 深色模式下的RGB颜色值 */
    --primary-rgb: 102, 153, 255; /* 深色模式下的蓝色 */
    --secondary-rgb: 156, 163, 175; /* 深色模式下的次要颜色 */
    --tertiary-rgb: 47, 51, 55; /* 深色模式下的第三颜色 */
}

/* 全局过渡效果 */
* {
    transition: var(--theme-transition);
}

[theme="dark"] .post-content {
    color: var(--gh-text);
}

[theme="dark"] .project-card {
    background: var(--gh-bg);
    border-color: var(--gh-border-color);
}

[theme="dark"] .project-card h3 a {
    color: var(--gh-link);
}

[theme="dark"] .activity-icon {
    background: var(--gh-bg);
    border-color: var(--gh-border-color);
}

[theme="dark"] .stats-section {
    border-color: var(--gh-border-color);
}

/* Custom scrollbar for dark mode */
[theme="dark"] ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

[theme="dark"] ::-webkit-scrollbar-thumb {
    background: #484f58;
    border-radius: 10px;
}
</style>

{{- /* Head custom content area start */ -}}
{{- /* Insert any custom code (web-analytics, resources, etc.) - it will appear in the <head></head> section of every page. */ -}}
<link rel="icon" href="{{ .Site.Params.favicon }}" type="image/svg+xml">
{{- /* Head custom content area end */ -}}